(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAsQAAALEBxi1JjQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAODSURBVEiJ5ZRtaJVlGMd/1/M8O687x+N2OtvUNpfVfCHUIaLiW0VWZzQNYkjSBHtZREgYDCJGg0H1QeqDxiBDKGhQJG66FWg4Msyh1IfmTGppbeXO3Ha2zrZzdjznfu4+bDY3zsZZ36Lr43P9n9//fz3Pdd/wv6srm6se1/X1Rrb6eYW6bvt6Xfdwra6f1HVsePoxt8NsojNyLFuTzCKN0FJRcTTkeBbR71517mymOXyyc7k+UljgyWOFOsDNiXO6vt6688quyHPeyt5X7p+NkowGJ8NvI/IGwItDKb15TMuBEgcNpywOjQXxrDJgqBBt68sSsjZVvtC/0bDtr4AAQptgf4Bt3FY5+uI/Bivb9y6Piaq9GRvPw5YqyxbZ/53Bzp8NkhacKFdE3ZrGM7msr/BybdikaaswtEgif4a0H/BkiNohlT01L4umXKMrRaTgxsA4A4Nx3juq2aJ8LPXmYqcV1xIxvixIYAuEI27eP+xnxD9JMW3Na99E8CfSXCrJpW3N4jsGVy2BNxGWCYJpa/akhNAlDzu0RdFegQt+TEeCh8pSqFZ49dExzj+SxumfGTU99TdTpkzDtfGUhegwWi4bNs5D7X1s+W2U8135FJbkwQ8CAT8k3dA/zn35XsrKchhc6wZg9RXFM6cU45bm+L4Qw0vN6T0R3jlR3HjdaLn3w05BfiwcTbGxZ4wj24tIpk1Ey+QKyFQiETrWCUPr3IhA2U+Kho9MygecbOtz8XxtlEX9anoPlXQBmFq3W77RJY60y7P627UrAhPBJfiCQXwqH+e2xahkABXMQT3g43dXkEBwGa6ExZPncnA7cxkLeIj6XERdDiTgw/D71IMjoU8rfll5semzloj0/9F1GM3rGdd1jlK24sav1/krFptPZovNDgNN4ULgAKZhUlpaimHMe5gNTIoMbPl4oQYApmXh9XrnkwyOJl2tRqh41dcIZ/+NiVJqzp6g36qqqkoYIqIlRTXQsxB4PB4nHo9nhov+/Ind1Y0wddmFStdE0oa9FejKBj4xkaC7uztzU3Pc5S/eJyJ6cpK7qre3152jY3Vo+6DSeuYHtjXJ20miw1EGbg2itT0b3Qf6YHjP/i9mTJMpRFvzJ60CFdlMcxfppfDu6mOzH8+1Zw3ASPZs+d500ZS5N0edPt0UNFKpTYYp7nnptgzccyt+YUNNTSrbQP+t+hvXdEeYnSjCCAAAAABJRU5ErkJggg=="},20:function(e,t){e.exports="data:image/png;base64,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"},21:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApgAAAKYB3X3/OAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAOZSURBVEiJzdVNbBRlHMfx7zM7u9tddqClDbDttqRSKq16IFjRYiwxGjngG4mekKgH1CDRixy4kJ64mGhMUGmMl2pQMCTWl5tGo1CxNmAsfUtfaEHbLm23L+zM7sw88/eAbaItdtGQ8DtNnmee55P/M/M8jxIRbmWMWzr7bQY0G5M9nckr3e1rbwZQN/gG6tp4bxNKngJVjUgliiqtdanveWhfz2mtM67rasOQtMI8lqpv/GhFYDbdtSkk5osge4GqwPOwJ9LkMhny0zPMXBohP5/FKIqSWL+O1RuriFVWYDs2oJxINPKFGTMOJasbR5YA2XTPcyIcF5HY9MUefv/hLBM//4LvOMuW7uuAvOujAyjdXM2mp3cT2ZjCCBlBIrH6+WTt9tYFIHRtovctkINTF7v57b0PcCanCl5jEcHJ++RdnyJrFXX797GmtoZYfNXRyvodh9XceM/jCmkbavuK/hOniCc3sPX1V5kZGKSr5cOCIdfTZB0XZShq9uym/JEmLGvNE4bS/gFncpL+Tz5DRCi75y6sqhSppgcJRSIFA5FwiKKIiQTCwOkvccbT+Np9wwx89zF7PI0EAQB/nGlnVXIDs8MjaNctGFhAcq6PBMLY9z+SqCh/wHTGhim9u57tRw6T6e1jZmCIobavAcGqTJGbnsbL2oUJSi0+BnkPkcA0s4NdHeK5DcU19aytu3PJGNGa6d5+Ln/7HWNnfvrX+YO/VgEgllyHEsEUFZyyR/sa7NE+TKuEsFUC6vrfoZTCTJRQXJ2i9OArlGyuoaf1BKL1soDrXW8PmSGSTTsQz8X0ndz74aJ4HcgL/nwGfz6zTOkGVu1WNu56lERFOeffPoaXzf7tFV8Hi0BqZyOhaJTJ8x2yuNEGTzQ/bATsEoMaRKoBH5gD7gfiALHyO7C2bMOeuMrA6c8Zaz+H73q4nibv+oRjMWqefZKy7dsI5udId57L3OgsWszQp821aGkF7gOIlKzD2nIvobiFzuWZuTSKGQkTTa5nemoKA3Amxhj/9QKJWPjkigBAZ8tL4ZJE8h3g5YW2cHEZ0bJytBh4KEQEvDyXOy/g2DlMU9lFYcoKAhYy/PGRA6KMoyDWP/uCQLg65XAt62Gahp2Iqp0Nr73ZcVMAwFhLczxnsUeEfcBDnq+jtu0xO++KUsxHwqFvIrHZvdv2H7fhxvdBwel+99AGW4Xi8bLBK/XPnFyy9f83sFJupzv5v+VP3qu71GjQeMIAAAAASUVORK5CYII="},22:function(e,t,a){e.exports=a.p+"static/media/empty-cart.ceb2faf0.ceb2faf0.png"},23:function(e,t,a){e.exports=a.p+"static/media/shopping-cart-solid.701d6d1d.svg"},25:function(e,t,a){e.exports=a(39)},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),i=a.n(c),l=a(7),o=a(8),u=a(13),s=a(12),m=a(14),d=a(4),A=r.a.createContext(),f=function(){return function(e){return function(t){return r.a.createElement(A.Consumer,null,function(a){return r.a.createElement(e,Object.assign({},t,{RestoService:a}))})}}},p=function(){return r.a.createElement("div",{className:"spinner"},"loading...")},E=(a(33),a(19)),g=a.n(E),b=a(20),h=a.n(b),N=a(21),y=a.n(N),v=function(e){var t=e.menuItem,a=e.onAddToCart,n=t.title,c=t.price,i=t.url,l=t.category;return r.a.createElement("li",{className:"menu__item"},r.a.createElement("div",{className:"menu__title"},function(e){switch(e){case"salads":return r.a.createElement("img",{className:"logo",src:g.a,alt:"food"});case"pizza":return r.a.createElement("img",{className:"logo",src:h.a,alt:"food"});case"meat":return r.a.createElement("img",{className:"logo",src:y.a,alt:"food"});default:return}}(l),n),r.a.createElement("img",{className:"menu__img",src:i,alt:n}),r.a.createElement("div",{className:"menu__category"},"Category: ",r.a.createElement("span",null,l)),r.a.createElement("div",{className:"menu__price"},"Price: ",r.a.createElement("span",null,"".concat(c,"$"))),r.a.createElement("button",{onClick:function(){return a()},className:"menu__btn"},"Add to cart"))},O=function(e){var t=e.menuItems,a=e.onAddToCart;return r.a.createElement("ul",{className:"menu__list"},t.map(function(e){return r.a.createElement(v,{key:e.id,onAddToCart:function(){return a(e.id)},menuItem:e})}))},j=function(){return r.a.createElement("div",{className:"error"},"Error")},C=(a(34),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.menuRequested(),this.props.RestoService.getMenuItems().then(function(t){return e.props.menuLoaded(t)}).catch(function(){return e.props.menuError()})}},{key:"render",value:function(){var e=this.props,t=e.error,a=e.loading,n=e.menuItems,c=e.addedToCart;return a?r.a.createElement(p,null):t?r.a.createElement(j,null):r.a.createElement(O,{menuItems:n,onAddToCart:c})}}]),t}(n.Component)),M={menuLoaded:function(e){return{type:"MENU_LOADED",payload:e}},menuRequested:function(){return{type:"MENU_REQUESTED"}},menuError:function(){return{type:"MENU_ERROR"}},addedToCart:function(e){return{type:"ITEM_ADD_TO_CART",payload:e}}},R=f()(Object(d.b)(function(e){return{menuItems:e.menu,loading:e.loading}},M)(C)),T=function(){return r.a.createElement(R,null)},k=(a(35),a(22)),Z=a.n(k),F=a(3),G={deleteFromCart:function(e){return{type:"ITEM_REMOVE_FROM_CART",payload:e}}},I=Object(d.b)(function(e){return{items:e.items}},G)(function(e){var t=e.items,a=e.deleteFromCart;return r.a.createElement(r.a.Fragment,null,0!==t.length?r.a.createElement("div",{className:"cart__title"},"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437:"):r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"cart__title"},"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430\u044f ",r.a.createElement("span",{role:"img","aria-label":"smile"},"\ud83d\ude15")),r.a.createElement("h3",{className:"cart__descr"},"\u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0437\u0430\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u043a\u0443\u0441\u043d\u044f\u0448\u043a\u0443, \u043f\u0435\u0440\u0435\u0439\u0434\u0438 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443."),r.a.createElement("img",{src:Z.a,alt:"basket",className:"cart__img"}),r.a.createElement(F.b,{to:"/",className:"cart__btn-back"},"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u0432 \u043c\u0435\u043d\u044e")),r.a.createElement("div",{className:"cart__list"},t.map(function(e){var t=e.title,n=e.price,c=e.url,i=e.id,l=e.counterIdentical;return r.a.createElement("div",{className:"cart__item",key:i},r.a.createElement("img",{src:c,className:"cart__item-img",alt:t}),r.a.createElement("div",{className:"cart__item-title"},t),r.a.createElement("div",{className:"cart__item-counter"},"Count: ",l),r.a.createElement("div",{className:"cart__item-price"},"Total: ",l*n,"$"),r.a.createElement("div",{onClick:function(){return a(i)},className:"cart__close"},"\xd7"))}),0!==t.length?r.a.createElement("button",{variant:"secondary",className:"cart__btn"},"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c"):null))}),Y=function(){return r.a.createElement("div",{className:"cart"},r.a.createElement(I,null))},B=a(23),U=a.n(B),J=(a(36),Object(d.b)(function(e){return{total:e.total}})(function(e){var t=e.total;return r.a.createElement("header",{className:"header"},r.a.createElement(F.b,{to:"/",className:"header__link",href:"#"},"Menu"),r.a.createElement(F.b,{to:"cart",className:"header__link",href:"#"},r.a.createElement("img",{className:"header__cart",src:U.a,alt:"cart"}),"Total: ",t," $"))})),w=a(1),D=function(){return r.a.createElement("div",{style:{background:"linear-gradient(0deg, rgba(153,195,34,0.9078131496739321) 0%, rgba(210,184,143,1) 23%, rgba(121,116,76,0.680922393371411) 62%, rgba(253,187,45,0.6837235138195903) 100%)"},className:"app"},r.a.createElement(J,null),r.a.createElement(w.c,null,r.a.createElement(w.a,{path:"/",element:r.a.createElement(T,null)}),r.a.createElement(w.a,{path:"/cart",element:r.a.createElement(Y,null)})))},S=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={error:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidCatch",value:function(){this.setState({error:!0})}},{key:"render",value:function(){return!0===this.state.error?r.a.createElement(j,null):this.props.children}}]),t}(n.Component),x=a(10),z=a.n(x),X=a(16),H=function(){function e(){Object(l.a)(this,e),this._dbJson="http://localhost:3000"}return Object(o.a)(e,[{key:"getResourse",value:function(){var e=Object(X.a)(z.a.mark(function e(t){var a;return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this._dbJson).concat(t));case 2:if(a=e.sent,console.log(a),a.ok){e.next=6;break}throw new Error("Could not fetch ".concat(t," from ").concat(this._dbJson));case 6:return e.next=8,a.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getMenuItems",value:function(){var e=Object(X.a)(z.a.mark(function e(){return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getResourse("/menu/");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),P=a(24),V=a(9),L=a(5),q={menu:[],loading:!0,error:!1,items:[],total:0},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MENU_LOADED":return Object(L.a)({},e,{menu:t.payload,loading:!1});case"MENU_REQUESTED":return Object(L.a)({},e,{menu:e.menu,loading:!0});case"MENU_ERROR":return Object(L.a)({},e,{error:!0,loading:!1});case"ITEM_ADD_TO_CART":var a=t.payload,n=e.items.findIndex(function(e){return e.id===a});if(n>=0){var r=e.items.find(function(e){return e.id===a}),c=Object(L.a)({},r,{counterIdentical:++r.counterIdentical});return Object(L.a)({},e,{items:[].concat(Object(V.a)(e.items.slice(0,n)),[c],Object(V.a)(e.items.slice(n+1))),total:e.total+c.price})}var i=e.menu.find(function(e){return e.id===a}),l={title:i.title,price:i.price,url:i.url,id:i.id,counterIdentical:1};return Object(L.a)({},e,{items:[].concat(Object(V.a)(e.items),[l]),total:e.total+l.price});case"ITEM_REMOVE_FROM_CART":var o=t.payload,u=e.items.findIndex(function(e){return e.id===o}),s=e.items.find(function(e){return e.id===o});return Object(L.a)({},e,{items:[].concat(Object(V.a)(e.items.slice(0,u)),Object(V.a)(e.items.slice(u+1))),total:e.total-s.price*s.counterIdentical});default:return e}},K=Object(P.a)(W),_=(a(38),new H);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(d.a,{store:K},r.a.createElement(S,null,r.a.createElement(A.Provider,{value:_},r.a.createElement(F.a,null,r.a.createElement(D,null)))))),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.c09dc2ae.chunk.js.map